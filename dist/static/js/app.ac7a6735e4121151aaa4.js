webpackJsonp([2,0],[function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}n(46);var o=n(1),a=u(o),s=n(30),i=u(s),r=n(143),l=u(r),c=n(11),d=u(c),f=n(3),p=u(f);l["default"].get().then(function(e){new a["default"]({router:i["default"],data:function(){return{account:p["default"].account||{}}}}).$mount("#app")})["catch"](function(e){return d["default"].alert(e.message)})},,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={account:null,showMenu:!1}},,,,,,,function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}n(52);var o=n(71),a=u(o),s=n(1),i=u(s),r=n(11),l=u(r),c=n(3),d=u(c);n(126),i["default"].component("head-nav-menu",{props:["account"],template:a["default"],data:function(){return{G:d["default"]}},methods:{logout:function(){l["default"].alert("不是你想退，想退就能退的！")},switchMenu:function(){this.G.showMenu=!this.G.showMenu}}})},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=document.createElement("div");document.body.appendChild(n);var u=r["default"].extend({data:function(){return{show:!0,config:t}},template:'<pk-dialog v-if="show"  :close="close" :config="config">'+e+"</pk-dialog>",methods:{close:function(){this.show=!1}}});return(new u).$mount(n)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(124),s=u(a),i=n(1),r=u(i);n(128),t["default"]={alert:function(e,t){var n={autoClose:!0,title:"提示",type:"alert",onConfirm:function(){}};return"function"==typeof t?n.onConfirm=t:n=(0,s["default"])({},n,t),o(e,n)},confirm:function(e,t,n){var u=(0,s["default"])({autoClose:!0,title:"提示"},u,{type:"confirm",onConfirm:function(){},onCancel:function(){}});return"function"==typeof t?(u.onConfirm=t,u.onCancel=n):u=(0,s["default"])({},u,t),o(e,u)}}},,,,,,,,function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(140),a=u(o),s=n(141),i=u(s);t["default"]={account:a["default"],node:i["default"],nodes:s.nodes}},,,,,,,,,,,function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=u(o),s=n(83),i=u(s),r=n(3),l=u(r),c=n(132),d=u(c),f=n(133),p=u(f),m=n(136),v=u(m),h=n(129),g=u(h),_=n(138),b=u(_),M=n(134),k=u(M),y=n(135),w=u(y);a["default"].use(i["default"]);var x=[{path:"/",component:a["default"].extend(d["default"])},{path:"/home",component:a["default"].extend(d["default"])},{path:"/contact",component:a["default"].extend(k["default"])},{path:"/declaration",component:a["default"].extend(w["default"])},{path:"/register",component:a["default"].extend(v["default"])},{path:"/login",component:a["default"].extend(p["default"])},{path:"/user",component:a["default"].extend(g["default"]),children:[{path:"dashboard",component:a["default"].extend(b["default"].Dashboard)},{path:"nodes",component:a["default"].extend(b["default"].Nodes)}]}],j=new i["default"]({routes:x});j.beforeEach(function(e,t,n){l["default"].showMenu=!1,n()}),t["default"]=j},,,,,,,,,,,,function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}n(47);var o=n(67),a=u(o),s=n(1),i=u(s);i["default"].component("pk-button",{props:["text","isLoading"],template:a["default"]})},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}n(53);var o=n(72),a=u(o),s=n(1),i=u(s);i["default"].component("tips",i["default"].extend({props:["type","message"],template:a["default"]}))},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(29),a=u(o),s=n(123),i=u(s),r=n(1),l=u(r),c=n(66),d=u(c);l["default"].use(d["default"]),l["default"].http.interceptors.push(function(e,t){t()});var f=function(){var e=l["default"].resource.apply(l["default"],arguments);return(0,i["default"])(e).map(function(t){var n=e[t];e[t]=function(){return n.apply(void 0,arguments).then(p,m)}}),e},p=function(e){return e.ok?e.json():m(e)},m=function(e){try{return e.json().then(function(e){return a["default"].reject(e)})}catch(t){throw new window.Error(e.statusText)}};t["default"]=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),u={empty:function(e){return""===e||null===e||void 0===e},authCode:function(e){return/^\d{4}$/.test(e)},phoneNumber:function(e){return/(^0{0,1}1[3|4|5|6|7|8|9][0-9]{9}$)/.test(e)},email:function(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},URL:function(e){return n.test(e)}};t["default"]=u},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){e.exports='<button class=pure-button> <i v-if=isLoading class="fa fa-spinner"></i> <slot>确定</slot> </button> '},function(e,t){e.exports='<span class="custom-icon icon-bars"></span> '},function(e,t){e.exports='<span class="custom-icon icon-times"></span> '},function(e,t){e.exports='<section class=pk-dialog-container v-bind:class=config.type> <section class=mask></section> <section class=pk-dialog> <header class=pk-dialog-head>{{config.title}}</header> <section class=pk-dialog-body> <slot></slot> </section> <footer class="pk-dialog-footer pure-g" v-if="config.type===\'alert\'"> <pk-button class="btn-confirm pure-u-1" v-on:click.native=confirm>确定</pk-button> </footer> <footer class="pk-dialog-footer pure-g" v-if="config.type===\'confirm\'"> <pk-button class="pure-u-1-2 btn-cancel" v-on:click=cancel>取消</pk-button> <pk-button class="pure-u-1-2 btn-confirm" v-on:click=confirm>确定</pk-button> </footer> </section> </section> '},function(e,t){e.exports='<nav class="pure-menu pure-menu-horizontal head-menu" v-bind:class="{\'show\':G.showMenu}"> <router-link to=/ class=pure-menu-heading>KING IN THE SHADOW</router-link> <ul class="pure-menu-list main-menu"> <router-link class=pure-menu-item active-class=pure-menu-selected tag=li to=/home> <a class=pure-menu-link>首页</a> </router-link> <router-link class=pure-menu-item active-class=pure-menu-selected tag=li to=/declaration> <a class=pure-menu-link>使用说明</a> </router-link> <router-link class=pure-menu-item active-class=pure-menu-selected tag=li to=/contact> <a class=pure-menu-link>联系我们</a> </router-link> </ul> <ul v-if=account.email class="pure-menu-list account-menu"> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <router-link to=/ class="pure-menu-link pure-menu-sub-item">{{account.email}}</router-link> <ul class=pure-menu-children> <li class=pure-menu-item><router-link to=/user/dashboard class=pure-menu-link>个人资料</router-link></li> <li class=pure-menu-item><router-link to="" v-on:click.native=logout class=pure-menu-link>退出</router-link></li> </ul> </li> </ul> <ul v-else class="pure-menu-list account-menu"> <li class=pure-menu-item> <router-link to=/login class=pure-menu-link>登录</router-link> </li> <li class=pure-menu-item> <router-link to=/register class=pure-menu-link>注册</router-link> </li> </ul> <ul class="pure-menu-list oops-menu"> <li class="pure-menu-item times" v-on:click=switchMenu> <icon-times class=pure-menu-icon></icon-times> </li> <li class="pure-menu-item bars" v-on:click=switchMenu> <icon-bars class=pure-menu-icon></icon-bars> </li> </ul> </nav> '},function(e,t){e.exports='<div class=tips v-bind:class=type> <span v-if="type===\'info\'" class="fa fa-exclamation-triangle"></span> <span v-if="type===\'warning\'" class="fa fa-warning"></span> <span v-if="type===\'error\'" class="fa fa-warning"></span> {{message}} </div> '},function(e,t){e.exports="<section id=container class=user-container> <user-menu></user-menu> <section id=mainContent> <router-view></router-view> </section> </section> "},function(e,t){e.exports="<header class=content-header> <h2><slot></slot></h2> </header> "},function(e,t){e.exports='<aside class="sidebar-menu user-menu"> <div class=main-menu> <h4>我的</h4> <ul class=pure-menu-list> <li class=pure-menu-item> <router-link to=dashboard class=pure-menu-link>个人资料</router-link> </li> </ul> </div> <div class=main-menu> <h4>使用</h4> <ul class=pure-menu-list> <li class=pure-menu-item> <router-link to=nodes class=pure-menu-link>节点列表</router-link> </li> </ul> </div> </aside> '},function(e,t){e.exports=" <section class=banner> <h1 class=banner-head> 孟姜女<br> 哭倒长城 </h1> </section> "},function(e,t){e.exports=' <section class="container login-container"> <section class=login-box> <header class=box-head>用户登录</header> <form class=pure-form> <tips v-if=errorMessage type=error v-bind:message=errorMessage></tips> <fieldset class=pure-group> <input type=text class=pure-input-1 placeholder=邮箱 v-model=email /> <input type=password class=pure-input-1 placeholder=密码 v-model=password /> </fieldset> <pk-button class="btn-login pure-input-1" :is-loading=isLogin v-on:click.native=login>登录</pk-button> </form> </section> </section> '},function(e,t){e.exports="<head-nav-menu v-bind:account=account></head-nav-menu> "},function(e,t){e.exports=" <section> 坚决拥护中国共产党的号召！ </section> "},function(e,t){e.exports='<section class="container login-container"> <section class=login-box> <header class=box-head>用户注册</header> <form class=pure-form> <tips v-if=errorMessage type=error v-bind:message=errorMessage></tips> <fieldset class=pure-group> <input type=email class=pure-input-1 required placeholder=邮箱 v-model=email /> <input type=password class=pure-input-1 required placeholder=密码 v-model=password /> </fieldset> <pk-button class="btn-login pure-input-1" :is-loading=isRegister v-on:click=register>注册</pk-button> </form> </section> </section> '},function(e,t){e.exports="<div id=dashboard> <fieldset> <span>邮箱：</span><span>{{account.email}}</span> </fieldset> </div> "},function(e,t){e.exports='<section id=nodes> <content-header>节点列表</content-header> <section class=panel-list> <div class="panel-item panel-attention"> <p class=info><strong>注意！</strong></p> <p class=info>请勿在任何地方公开节点地址！</p> <p class=info>如果您不知道如何查看节点的详细信息和二维码，<a href=javascript:void(0)>请点我</a>。</p> </div> <div class="panel-item panel-node-list"> <div class=panel-node-item v-for="node in nodes" :node=node> <header class=node-item-heading> <span class="fa fa-qrcode" v-on:click=showQRCode(node)></span> <span class=node-name>{{node.name}}</span> <span class=tips>（点击二维码图标可查看节点二维码）</span> </header> <section class=node-item-body> <section class=node-item-card> <h4>{{node.name}}</h4> <div class=node-card-content> <div class=pure-g> <div class=pure-u-1-2>地址：{{node.host}}</div> <div class=pure-u-1-2>加密方式：{{node.protocol}}</div> </div> <p> 请勿在任何地方公开节点地址！ </p> </div> </section> </section> </div> </div> </section> </section> '},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}n(48);var o=n(68),a=u(o),s=n(1),i=u(s);i["default"].component("icon-bars",{template:a["default"]})},function(e,t,n){"use strict";n(49),n(125),n(127)},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}n(50);var o=n(69),a=u(o),s=n(1),i=u(s);i["default"].component("icon-times",{template:a["default"]})},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}var o=n(29),a=u(o);n(51);var s=n(70),i=u(s),r=n(1),l=u(r);l["default"].component("pk-dialog",{props:{config:{type:Object,required:!0},close:{type:Function,required:!0}},template:i["default"],methods:{confirm:function(){var e=this;a["default"].resolve(this.config.onConfirm()).then(function(){e.config.autoClose&&e.close()})},cancel:function(){var e=this;a["default"].resolve(this.config.onCancel()).then(function(){e.config.autoClose&&e.close()})}}})},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(54),n(55);var o=n(73),a=u(o);n(131),t["default"]={template:a["default"]}},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}n(56);var o=n(74),a=u(o),s=n(1),i=u(s);i["default"].component("content-header",{props:["title"],template:a["default"]})},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}n(57),n(58);var o=n(75),a=u(o),s=n(1),i=u(s);i["default"].component("user-menu",{template:a["default"]})},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(59);var o=n(76),a=u(o);n(10);var s=n(3),i=u(s);t["default"]={template:a["default"],data:function(){var e=i["default"].account||{};return{account:e}},created:function(){}}},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(60);var o=n(77),a=u(o);n(43),n(42),n(10);var s=n(3),i=u(s),r=n(19),l=u(r),c=n(45),d=u(c),f=n(11),p=u(f),m=n(30),v=u(m);t["default"]={template:a["default"],data:function(){return{errorMessage:"",email:"450994392@qq.com",password:"xin5383139",isLogin:!1}},methods:{login:function(e){var t=this;return e.preventDefault(),d["default"].empty(this.email)?this.errorMessage="邮箱不能为空！":d["default"].email(this.email)?d["default"].empty(this.password)?this.errorMessage="密码不能为空！":this.password.length<6?this.errorMessage="密码长度不能小于六位！":(this.errorMessage="",this.isLogin=!0,void l["default"].account.login.save({email:this.email,password:this.password}).then(function(e){i["default"].account=e.result,t.isLogin=!1,v["default"].push("/user/nodes")})["catch"](function(e){p["default"].alert(e.message),t.isLogin=!1})):this.errorMessage="邮箱格式不正确！"}}}},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(61);var o=n(78),a=u(o);n(10);var s=n(3),i=u(s);t["default"]={template:a["default"],data:function(){var e=i["default"].account||{};return{account:e}}}},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(62);var o=n(79),a=u(o),s=n(3),i=u(s);n(10),t["default"]={template:a["default"],data:function(){var e=i["default"].account||{};return{account:e}}}},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(63);var o=n(80),a=u(o);n(43),n(42),n(10);var s=n(3),i=u(s),r=n(19),l=u(r),c=n(45),d=u(c),f=n(11),p=u(f),m=n(30),v=u(m);t["default"]={template:a["default"],data:function(){return{errorMessage:"",email:"450994392@qq.com",password:"xin5383139",isRegister:!1}},methods:{register:function(e){var t=this;return e.preventDefault(),d["default"].empty(this.email)?this.errorMessage="邮箱不能为空！":d["default"].email(this.email)?d["default"].empty(this.password)?this.errorMessage="密码不能为空！":this.password.length<6?this.errorMessage="密码长度不能小于六位！":(this.errorMessage="",this.isRegister=!0,void l["default"].account.register.save({email:this.email,password:this.password}).then(function(e){i["default"].account=e.result,t.isRegister=!1,v["default"].go("/user/nodes")})["catch"](function(e){p["default"].alert(e.message),t.isRegister=!1})):this.errorMessage="邮箱格式不正确！"}}}},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(64);var o=n(81),a=u(o),s=n(3),i=u(s),r=n(142),l=u(r);t["default"]={mixins:[l["default"].mixin],template:a["default"],data:function(){return{account:i["default"].account}}}},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(137),a=u(o),s=n(139),i=u(s);t["default"]={Dashboard:a["default"],Nodes:i["default"]}},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(65),n(130);var o=n(82),a=u(o),s=n(19),i=u(s),r=n(11),l=u(r);t["default"]={template:a["default"],data:function(){return{nodes:[]}},mounted:function(){var e=this;i["default"].nodes.query().then(function(t){e.nodes=t.result})["catch"](function(e){l["default"].alert(e.message)})},methods:{showQRCode:function(e){l["default"].alert('<h4>使用 Shadowrocket App 扫描下方二维码可自动完成配置</h4><img src="'+e.URI+'" />',{title:"节点二维码"})}}}},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),a=u(o),s=(0,a["default"])("/api/account/register"),i=(0,a["default"])("/api/account/login"),r=(0,a["default"])("/api/account/check");t["default"]={register:s,login:i,check:r}},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nodes=void 0;var o=n(44),a=u(o),s=(0,a["default"])("/api/nodes"),i=(0,a["default"])("/api/node/:nodeId");t["default"]=i,t.nodes=s},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=u(o),s=function(){return a["default"].account&&a["default"].account.id&&!0};s.mixin={route:{canActivate:function(e){return s()}}},t["default"]=s},function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(29),a=u(o),s=n(3),i=u(s),r=n(19),l=u(r);t["default"]={get:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i["default"].account&&!e?a["default"].resolve(i["default"].account):l["default"].account.check.get().then(function(e){return i["default"].account=e.result,i["default"].account})}}}]);
//# sourceMappingURL=app.ac7a6735e4121151aaa4.js.map