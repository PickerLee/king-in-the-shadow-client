webpackJsonp([2,0],[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(47);var s=n(2),u=a(s),o=n(28),i=a(o);i["default"].start(u["default"].extend({template:"<router-view></router-view>"}),"app")},,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){var n=document.createElement("div");document.body.appendChild(n);var a=r["default"].extend({el:function(){return n},data:function(){return{show:!0,config:t}},template:'<pk-dialog v-if="show"  :close="close" :config="config">'+e+"</pk-dialog>",methods:{close:function(){this.show=!1}}});return new a}Object.defineProperty(t,"__esModule",{value:!0});var u=n(114),o=a(u),i=n(2),r=a(i);n(115),t["default"]={alert:function(e,t){var n={autoClose:!0,title:"提示",type:"alert",onConfirm:function(){}};return"function"==typeof t?n.onConfirm=t:n=(0,o["default"])({},n,t),s(e,n)},confirm:function(e,t,n){var a=(0,o["default"])({autoClose:!0,title:"提示"},a,{type:"confirm",onConfirm:function(){},onCancel:function(){}});return"function"==typeof t?(a.onConfirm=t,a.onCancel=n):a=(0,o["default"])({},a,t),s(e,a)}}},,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(125),u=a(s),o=n(126),i=a(o);t["default"]={account:u["default"],node:i["default"],nodes:o.nodes}},,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(50);var s=n(64),u=a(s),o=n(2),i=a(o),r=n(9),l=a(r);i["default"].component("head-nav-menu",{props:["account"],template:u["default"],methods:{logout:function(){l["default"].alert("退你妈逼退")}}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),u=a(s),o=n(45),i=a(o),r=n(119),l=a(r),c=n(120),d=a(c),f=n(121),p=a(f),m=n(116),h=a(m),v=n(123),g=a(v);u["default"].use(i["default"]);var _=new i["default"];_.map({"/":{component:u["default"].extend(l["default"])},"/register":{component:u["default"].extend(p["default"])},"/login":{component:u["default"].extend(d["default"])},"/user":{component:u["default"].extend(h["default"]),subRoutes:{"/dashboard":{component:u["default"].extend(g["default"].Dashboard)},"/nodes":{component:u["default"].extend(g["default"].Nodes)}}}}),_.redirect({"*":"/"}),t["default"]=_},,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(48);var s=n(62),u=a(s),o=n(2),i=a(o);i["default"].component("pk-button",{props:["text","isLoading"],template:u["default"]})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(51);var s=n(65),u=a(s),o=n(2),i=a(o);i["default"].component("tips",i["default"].extend({props:["type","message"],template:u["default"]}))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(40),u=a(s),o=n(113),i=a(o),r=n(2),l=a(r),c=n(46),d=a(c);l["default"].use(d["default"]),l["default"].http.interceptors.push(function(e,t){t()});var f=function(){var e=l["default"].resource.apply(l["default"],arguments);return(0,i["default"])(e).map(function(t){var n=e[t];e[t]=function(){return n.apply(void 0,arguments).then(p,m)}}),e},p=function(e){return e.ok?e.json():m(e)},m=function(e){try{return u["default"].reject(e.json())}catch(t){throw new window.Error(e.statusText)}};t["default"]=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i"),a={empty:function(e){return""===e||null===e||void 0===e},authCode:function(e){return/^\d{4}$/.test(e)},phoneNumber:function(e){return/(^0{0,1}1[3|4|5|6|7|8|9][0-9]{9}$)/.test(e)},email:function(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},URL:function(e){return n.test(e)}};t["default"]=a},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports='<button class=pure-button> <i v-if=isLoading class="fa fa-spinner"></i> <slot>确定</slot> </button> '},function(e,t){e.exports='<section class="pk-dialog-container {{type}}"> <section class=mask></section> <section class=pk-dialog> <header class=pk-dialog-head>{{config.title}}</header> <section class=pk-dialog-body> <slot></slot> </section> <footer class="pk-dialog-footer pure-g" v-if="config.type===\'alert\'"> <pk-button class="btn-confirm pure-u-1" v-on:click=confirm>确定</pk-button> </footer> <footer class="pk-dialog-footer pure-g" v-if="config.type===\'confirm\'"> <pk-button class="pure-u-1-2 btn-cancel" v-on:click=cancel>取消</pk-button> <pk-button class="pure-u-1-2 btn-confirm" v-on:click=confirm>确定</pk-button> </footer> </section> </section> '},function(e,t){e.exports='<nav class="pure-menu pure-menu-horizontal head-menu"> <a href=# class=pure-menu-heading>KING IN THE SHADOW</a> <ul class=pure-menu-list> <li class=pure-menu-item><a href=# class=pure-menu-link>首页</a></li> <li class="pure-menu-item pure-menu-selected"><a href=# class=pure-menu-link>使用说明</a></li> <li class=pure-menu-item><a href=# class=pure-menu-link>联系我们</a></li> </ul> <ul v-if=account.email class="pure-menu-list account-menu"> <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover"> <a href=# class=pure-menu-link>{{account.email}}</a> <ul class=pure-menu-children> <li class=pure-menu-item><a v-link="{path:\'/user/dashboard\'}" class=pure-menu-link>Dashboard</a></li> <li class=pure-menu-item><a href=# class=pure-menu-link>个人资料</a></li> <li class=pure-menu-item><a v-on:click=logout class=pure-menu-link>退出</a></li> </ul> </li> </ul> <ul v-else class="pure-menu-list account-menu right"> <li class=pure-menu-item> <a v-link="{path:\'/login\'}" class=pure-menu-link>登录</a> </li> <li class=pure-menu-item> <a v-link="{path:\'/register\'}" class=pure-menu-link>注册</a> </li> </ul> </nav> '},function(e,t){e.exports='<div class="tips tips-{{type}}"> <span v-if="type===\'info\'" class="fa fa-exclamation-triangle"></span> <span v-if="type===\'warning\'" class="fa fa-warning"></span> <span v-if="type===\'error\'" class="fa fa-warning"></span> {{message}} </div> '},function(e,t){e.exports="<section id=container class=user-container> <user-menu></user-menu> <section id=mainContent> <router-view></router-view> </section> </section> "},function(e,t){e.exports="<header class=content-header> <h2><slot></slot></h2> </header> "},function(e,t){e.exports="<aside class=\"sidebar-menu user-menu\"> <div class=main-menu> <h4>我的</h4> <ul class=pure-menu-list> <li class=pure-menu-item> <a v-link=\"{path:'dashboard', activeClass:'xixi'}\" class=pure-menu-link>首页</a> </li> <li class=pure-menu-item> <a v-link=\"'home'\" class=pure-menu-link>账户信息</a> </li> </ul> </div> <div class=main-menu> <h4>使用</h4> <ul class=pure-menu-list> <li class=pure-menu-item> <a v-link=\"{path:'nodes'}\" class=pure-menu-link>节点列表</a> </li> </ul> </div> </aside> "},function(e,t){e.exports="<head-nav-menu v-bind:account=account></head-nav-menu> <section class=banner> <h1 class=banner-head> 孟姜女<br> 哭倒长城 </h1> </section> "},function(e,t){e.exports='<head-nav-menu v-bind:account={}></head-nav-menu> <section class="container login-container"> <section class=login-box> <header class=box-head>用户登录</header> <form class=pure-form> <tips v-if=errorMessage type=error v-bind:message=errorMessage></tips> <fieldset class=pure-group> <input type=text class=pure-input-1 placeholder=邮箱 v-model=email /> <input type=password class=pure-input-1 placeholder=密码 v-model=password /> </fieldset> <pk-button class="btn-login pure-input-1" :is-loading=isLogin v-on:click=login>登录</pk-button> </form> </section> </section> '},function(e,t){e.exports='<head-nav-menu v-bind:account={}></head-nav-menu> <section class="container login-container"> <section class=login-box> <header class=box-head>用户注册</header> <form class=pure-form> <tips v-if=errorMessage type=error v-bind:message=errorMessage></tips> <fieldset class=pure-group> <input type=email class=pure-input-1 required placeholder=邮箱 v-model=email /> <input type=password class=pure-input-1 required placeholder=密码 v-model=password /> </fieldset> <pk-button class="btn-login pure-input-1" :is-loading=isRegister v-on:click=register>注册</pk-button> </form> </section> </section> '},function(e,t){e.exports="<div id=dashboard> <span>dashboard!</span> </div> "},function(e,t){e.exports='<section id=nodes> <content-header>节点列表</content-header> <section class=panel-list> <div class="panel-item panel-attention"> <p class=info><strong>注意！</strong></p> <p class=info>请勿在任何地方公开节点地址！</p> <p class=info>如果您不知道如何查看节点的详细信息和二维码，请点我。</p> </div> <div class="panel-item panel-node-list"> <div class=panel-node-item v-for="node in nodes" :node=node :index=$index> <header class=node-item-heading> <span class="fa fa-qrcode" v-on:click=showQRCode(node)></span> <span>{{node.name}}</span> <span>（点击二维码图标可查看节点二维码）</span> </header> <section class=node-item-body> <section class=node-item-card> <h4>{{node.name}}</h4> <div class=node-card-content> <div class=pure-g> <div class=pure-u-1-2>地址：{{node.host}}</div> <div class=pure-u-1-2>加密方式：{{node.protocol}}</div> </div> <p> 请勿在任何地方公开节点地址！ </p> </div> </section> </section> </div> </div> </section> </section> '},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var s=n(40),u=a(s);n(49);var o=n(63),i=a(o),r=n(2),l=a(r);l["default"].component("pk-dialog",{props:{config:{type:Object,required:!0},close:{type:Function,required:!0}},template:i["default"],methods:{confirm:function(){var e=this;u["default"].resolve(this.config.onConfirm()).then(function(){e.config.autoClose&&e.close()})},cancel:function(){var e=this;u["default"].resolve(this.config.onCancel()).then(function(){e.config.autoClose&&e.close()})}}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(52),n(53);var s=n(66),u=a(s);n(118),t["default"]={template:u["default"]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(54);var s=n(67),u=a(s),o=n(2),i=a(o);i["default"].component("content-header",{props:["title"],template:u["default"]})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(55),n(56);var s=n(68),u=a(s),o=n(2),i=a(o);i["default"].component("user-menu",{template:u["default"]})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(57);var s=n(69),u=a(s);n(27);var o=n(17),i=a(o),r=n(9),l=a(r);t["default"]={template:u["default"],data:function(){var e={email:""};return{account:e}},created:function(){var e=this;i["default"].account.check.get().then(function(t){e.account=t.result})["catch"](function(e){return l["default"].alert(e.message)})}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(58);var s=n(70),u=a(s);n(42),n(41),n(27);var o=n(17),i=a(o),r=n(44),l=a(r),c=n(9),d=a(c),f=n(28),p=a(f);t["default"]={template:u["default"],data:function(){return{errorMessage:"",email:"450994392@qq.com",password:"xin5383139",isLogin:!1}},methods:{login:function(e){var t=this;return e.preventDefault(),l["default"].empty(this.email)?this.errorMessage="邮箱不能为空！":l["default"].email(this.email)?l["default"].empty(this.password)?this.errorMessage="密码不能为空！":this.password.length<6?this.errorMessage="密码长度不能小于六位！":(this.errorMessage="",this.isLogin=!0,void i["default"].account.login.save({email:this.email,password:this.password}).then(function(e){t.isLogin=!1,p["default"].go("/user/nodes")})["catch"](function(e){d["default"].alert(e.message),t.isLogin=!1})):this.errorMessage="邮箱格式不正确！"}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(59);var s=n(71),u=a(s);n(42),n(41),n(27);var o=n(17),i=a(o),r=n(44),l=a(r),c=n(9),d=a(c),f=n(28),p=a(f);t["default"]={template:u["default"],data:function(){return{errorMessage:"",email:"450994392@qq.com",password:"xin5383139",isRegister:!1}},methods:{register:function(e){var t=this;return e.preventDefault(),l["default"].empty(this.email)?this.errorMessage="邮箱不能为空！":l["default"].email(this.email)?l["default"].empty(this.password)?this.errorMessage="密码不能为空！":this.password.length<6?this.errorMessage="密码长度不能小于六位！":(this.errorMessage="",this.isRegister=!0,void i["default"].account.register.save({email:this.email,password:this.password}).then(function(e){t.isRegister=!1,p["default"].go("/user/nodes")})["catch"](function(e){d["default"].alert(e.message),t.isRegister=!1})):this.errorMessage="邮箱格式不正确！"}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(60);var s=n(72),u=a(s),o=n(127),i=a(o);t["default"]={mixins:[i["default"].mixin],template:u["default"]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(122),u=a(s),o=n(124),i=a(o);t["default"]={Dashboard:u["default"],Nodes:i["default"]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),n(61),n(117);var s=n(73),u=a(s),o=n(17),i=a(o),r=n(9),l=a(r);t["default"]={template:u["default"],data:function(){return{nodes:[]}},ready:function(){var e=this;i["default"].nodes.query().then(function(t){e.nodes=t.result})["catch"](function(e){l["default"].alert(e.message)})},methods:{showQRCode:function(e){l["default"].alert('<h4>使用 Shadowrocket App 扫描下方二维码可自动完成配置</h4><img src="'+e.URI+'" />',{title:"节点二维码"})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(43),u=a(s),o=(0,u["default"])("/api/account/register"),i=(0,u["default"])("/api/account/login"),r=(0,u["default"])("/api/account/check");t["default"]={register:o,login:i,check:r}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nodes=void 0;var s=n(43),u=a(s),o=(0,u["default"])("/api/nodes"),i=(0,u["default"])("/api/node/:nodeId");t["default"]=i,t.nodes=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return!0};n.mixin={route:{canActivate:function(e){return n()}}},t["default"]=n}]);
//# sourceMappingURL=app.e4331b3faabf9e43bb44.js.map